* ğŸ‘‹ Hi, Iâ€™m liubo
* ğŸ‘€ Iâ€™m interested in harmony
* ğŸŒ± Iâ€™m currently learning harmony
* ğŸ’ï¸ Iâ€™m looking to collaborate on ...
* ğŸ“« How to reach me ...
* ğŸ“‡ sssssdsdsdsdsdsdasd
* ğŸƒ dsdsdsdsdsddfsgdgasd
* ğŸº jyukyuiyuiyuigkasd
* ğŸ¥ fsdfgdsgsdgdgadsa
* âœ¨ xcvxcvxcvxcvdasdaasd
* ğŸ° dazdsxasxsaxsaasdsa
* ğŸš¨ gdfgdshdfhfhygjtyu



# C++\_å¤šæ€\_03\_è™šææ„å‡½æ•°

## 1. ææ„å‡½æ•°çš„é‡å†™

å¦‚æœåŸºç±»çš„ææ„å‡½æ•°ä¸ºè™šå‡½æ•°ï¼Œæ­¤æ—¶æ´¾ç”Ÿç±»ææ„å‡½æ•°åªè¦å®šä¹‰ï¼Œæ— è®ºæ˜¯å¦åŠ virtualå…³é”®å­—ï¼Œéƒ½ä¸åŸºç±»çš„ææ„å‡½æ•°æ„æˆé‡å†™ï¼Œè™½ç„¶åŸºç±»ä¸æ´¾ç”Ÿç±»ææ„å‡½æ•°åå­—ä¸åŒã€‚è™½ç„¶å‡½æ•°åä¸ç›¸åŒï¼Œçœ‹èµ·æ¥è¿èƒŒäº†é‡å†™çš„è§„åˆ™ï¼Œå…¶å®ä¸ç„¶ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºç¼–è¯‘å™¨å¯¹ææ„å‡½æ•°çš„åç§°åšäº†ç‰¹æ®Šå¤„ç†ï¼Œç¼–è¯‘åææ„å‡½æ•°çš„åç§°ç»Ÿä¸€å¤„ç†æˆdestructorã€‚



```c++
class Base

{
   public:
    virtual ~Base()

    {  // è™šææ„å‡½æ•°

         cout << "Base destructor called!" << endl;
    }
};

class Derived : public Base

{
   public:
    virtual ~Derived()

    {
         cout << "Derived destructor called!" << endl;
    }
};

int main()

{
    Base* b = new Derived();  // åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡

    delete b;  // è°ƒç”¨ Derived çš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨ Base çš„ææ„å‡½æ•°

    return EXIT_SUCCESS;
}
```





è¿è¡Œç»“æœ

```tex
Derived destructor called!
Base destructor called!
```

 

 

 

 

 

 

 

## 2. éè™šææ„å‡½æ•°

ç»§æ‰¿ä½“ç³»ä¸­ï¼Œå­ç±»å¯¹è±¡æŒ‡å‘ææ„æ—¶å€™ï¼Œæœ¬èº«å°±ä¼šç°æ‰§è¡Œå­ç±»å†æ‰§è¡Œçˆ¶ç±»



```c++
class Base
{
   public:
    ~Base()
    {  // è™šææ„å‡½æ•°
        cout << "Base destructor called!" << endl;
    }
};

class Derived : public Base
{
   public:
    ~Derived()
    {
        cout << "Derived destructor called!" << endl;
    }
};

int main()
{
    printf("--------------------begain-------------------\n");
    Base* a = new Derived();  // åŸºç±»æŒ‡é’ˆæŒ‡å‘æ´¾ç”Ÿç±»å¯¹è±¡
    Derived* b = new Derived();

    delete a;  // åªè°ƒç”¨ Base çš„ææ„å‡½æ•°ï¼Œæ— æ³•è°ƒç”¨å­ç±»è™šæ„å‡½æ•°
    delete b;  // è°ƒç”¨ Derived çš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨ Base çš„ææ„å‡½æ•°

    printf("--------------------end----------------------\n");
    return EXIT_SUCCESS;
}
```



è¿è¡Œç»“æœ

```tex
--------------------begain-------------------
Base destructor called!
Derived destructor called!
Base destructor called!
--------------------end----------------------
```

 

## 3. æ€»ç»“

æ‰€ä»¥è¯´ææ„å‡½æ•°æ˜¯å¦éœ€è¦å†™æˆè™šææ„å‡½æ•°ï¼Œé¦–å…ˆå¾—å‘ç”Ÿå¤šæ€è¡Œä¸ºï¼Œæ‰éœ€è¦çˆ¶ç±»ææ„å†™æˆè™šææ„ï¼Œè¿™ä¹Ÿæ‰å¯ä»¥ä¿è¯delete çˆ¶ç±»æŒ‡é’ˆæ—¶å€™ï¼Œèƒ½å¤Ÿå»è°ƒç”¨å­ç±»çš„ææ„å‡½æ•°ï¼›

æœ¬è´¨æˆ‘ä»¬deleteçˆ¶ç±»æŒ‡é’ˆï¼Œå°±æ˜¯ä¸ºäº†ææ„å­ç±»å¯¹è±¡çš„ï¼Œå› ä¸ºçˆ¶ç±»æŒ‡é’ˆæŒ‡å‘äº†å­ç±»å¯¹è±¡ã€‚ä¸ºäº†ææ„å­ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆå°±éœ€è¦å¤šæ€ï¼Œè¿™ä¸ªè¡Œä¸ºæ‰ä¼šäº§ç”Ÿï¼›éœ€è¦å¤šæ€å°±å¿…é¡»å­ç±»é‡å†™çˆ¶ç±»çš„è™šææ„å‡½æ•°ï¼›

ä»¥ä¸Šå°±æ˜¯ä»Šå¤©è¦è®²çš„å†…å®¹ï¼Œåç»­ä¼šæœ‰æ›´å¤šå†…å®¹ã€‚

## 4. å‚è€ƒèµ„æ–™

ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡å‚è€ƒäº†å…¶ä»–èµ„æ–™å’ŒCSDNåšä¸»çš„æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œç°é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚

1. https://blog.csdn.net/m0_46606290/article/details/124017703





 

---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
